<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="robloxiano.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Cumpleaños</title>
    <style>
        :root{
            --bg-opacity: 0.45; /* opacidad de la imagen de fondo (0-1) */
            --bg-dark: 0.50;    /* opacidad del overlay negro (0-1) — sube para oscurecer más */
            --glass: rgba(255,255,255,0.12);
            --card: rgba(255,255,255,0.22);
            --pink1: #8668b3;
            --pink2: #8668b3;
            --text: #fff;
        }
        *{box-sizing:border-box}
        body{
            margin:0;
            min-height:100vh;
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            display:flex;
            align-items:center;
            justify-content:center;
            padding:32px;
            color:var(--text);
        }

        body::before{
            content: "";
            position: fixed;
            inset: 0;
            z-index: -2;
            background-image: url('Snupi.jpeg');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            opacity: var(--bg-opacity);
            transition: opacity .25s linear;
            pointer-events: none;
        }

        /* nueva capa oscura para mejorar contraste */
        body::after{
            content: "";
            position: fixed;
            inset: 0;
            z-index: -1;
            background: rgba(0,0,0,var(--bg-dark));
            transition: background .25s linear, opacity .25s linear;
            pointer-events: none;
        }

        .wrap{
            width:100%;
            max-width:980px;
            display:flex;
            gap:28px;
            align-items:center;
            background: linear-gradient(180deg, var(--glass), rgba(255,255,255,0.04));
            border-radius:16px;
            padding:22px;
            box-shadow:0 12px 40px rgba(3,3,10,0.45);
            backdrop-filter: blur(6px) saturate(120%);
        }

        .avatar{
            flex:0 0 260px;
            text-align:center;
        }

        .avatar img{
            width:220px;
            height:220px;
            object-fit:cover;
            border-radius:14px;
            border:4px solid rgba(255,255,255,0.18);
            box-shadow: 0 10px 30px rgba(0,0,0,0.45);
        }

        .content{
            flex:1;
            display:flex;
            flex-direction:column;
            gap:12px;
        }

        h1{
            margin:0;
            font-size:28px;
            color:var(--pink1);
            letter-spacing:0.2px;
            display:flex;
            align-items:center;
            gap:10px;
        }

        p.lead{
            margin:0;
            color:rgba(255,255,255,0.92);
            font-size:16px;
            max-width:720px;
        }

        .card{
            margin-top:8px;
            background:var(--card);
            padding:18px;
            border-radius:12px;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
        }

        .message{
            font-size:20px;
            line-height:1.4;
            text-shadow:0 1px 0 rgba(0,0,0,0.45);
            transition:opacity .45s ease, transform .45s ease;
            opacity:1;
        }

        .message.hidden{
            opacity:0;
            transform: translateY(8px) scale(.995);
        }

        .controls{
            margin-top:12px;
            display:flex;
            gap:10px;
            flex-wrap:wrap;
        }

        .btn{
            background: linear-gradient(180deg, var(--pink1), var(--pink2));
            border:1px solid rgba(255,77,138,0.12);
            color:#fff;
            padding:8px 12px;
            border-radius:10px;
            cursor:pointer;
            font-weight:700;
            box-shadow: 0 8px 22px rgba(255,105,180,0.12);
        }

        .btn.secondary{
            background: transparent;
            border:1px solid rgba(255,255,255,0.12);
            box-shadow:none;
        }

        .meta{
            margin-top:10px;
            display:flex;
            gap:12px;
            align-items:center;
            color:rgba(255,255,255,0.85);
            font-size:13px;
        }

        .small{
            font-size:13px;
            color:rgba(255,255,255,0.75);
        }

        @media (max-width:820px){
            .wrap{ flex-direction:column; padding:18px; }
            .avatar{ order:0; }
            .content{ order:1; }
            .avatar img{ width:180px; height:180px; }
        }
    </style>
</head>
<body>
    <div class="wrap" role="main" aria-live="polite">
        <div class="avatar">
            <!-- reemplaza src por tu imagen -->
            <img id="avatarImg" src="SnupiLunar.jpeg" alt="Foto celebrada">
            <div class="small" style="margin-top:10px">La persona que yo mas quiero en este mundo</div>
        </div>

        <div class="content">
            <h1>Feliz Cumpleaños</h1>
            <p class="lead">Un pequeño rincón con frases bonitas para celebrar tu dia especial❤️</p>

            <div class="card">
                <div id="message" class="message"></div>

                <div class="controls">
                    <button id="prev" class="btn secondary">Anterior</button>
                    <button id="next" class="btn">Siguiente</button>
                    <button id="random" class="btn secondary">Aleatorio</button>
                    <button id="play" class="btn secondary">Reproducir cancion</button>
                </div>

                <div class="meta">
                    <div id="counter">0 / 0</div>
                    <div class="small" style="margin-left:auto">Autoplay 5s</div>
                </div>
            </div>
        </div>
    </div>
    <!-- asegurarse de que el audio tenga fuentes -->
    <audio id="player" preload="none" aria-hidden="true">
        <source src="System of a Down - Lonely Day.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento audio.
    </audio>

<script>
(() => {
    const messages = [
        "Que tengas un cumpleaños lleno de risas, abrazos y momentos inolvidables, recuerda que te quiero mucho y aunque a veces no sepa demostrar mis sentimientos, sabes que puedes contar conmigo para lo que sea, porque siempre serás tú.",
        "Recuerdo la vez que me dijiste que nunca te habías sentido querida y amada en el día de tu cumpleaños, pero yo estoy aquí para cambiar eso. Nunca olvides la hermosa persona que eres y lo mucho que vales para mí, porque siempre serás tú.",
        "También recuerdo las veces que me decías que nunca te sentiste bonita y a mí me duele muchísimo escuchar eso, sabiendo que en mis ojos tú eres la persona más hermosa que he conocido. Tu belleza va más allá de lo físico, eres hermosa por dentro y por fuera, por que siempre seras tu",
        "Me hubiera gustado haber estado a tu lado en cada uno de tus cumpleaños, pero aunque no haya sido así, quiero que sepas que siempre he pensado en ti y en cómo hacerte sentir especial, por que siempre seras tu.",
        "Es curioso cómo el destino nos junta en los momentos más inesperados y yo estoy agradecida por cada instante que he podido compartir contigo, y le agradezco a Dios por tener a una persona tan maravillosa como tú en mi vida, por que siempre seras tu.",
        "Cada día contigo es un regalo y en tu cumpleaños quiero regalarte todo mi amor y cariño porque te lo mereces, porque eres una persona increíble y especial, por que siempre seras tu.",
        "Cada que eschucho la cancion de System of a Down - Lonely Day, me recuerda a ti, y a lo mucho que te quiero y lo importante que eres en mi vida, por que siempre seras tu.",
        "Si tu te vas yo quiero irme contigo y si tu mueres yo quiero morir contigo, porque no puedo imaginar mi vida sin ti, por que siempre seras tu.",
        "Sigue brillando como siempre lo haces, porque tu luz ilumina mi vida y la de quienes te rodean, por que siempre seras tu.",
        "Porque siempre seras tu."
    ];

    let idx = 0;
    let audioPlaying = false;

    const elMsg = document.getElementById('message');
    const elCounter = document.getElementById('counter');
    const btnNext = document.getElementById('next');
    const btnPrev = document.getElementById('prev');
    const btnRand = document.getElementById('random');
    const btnPlay = document.getElementById('play');
    const player = document.getElementById('player');
    const avatarImg = document.getElementById('avatarImg');

    function normalizeIndex(i) {
        if (i < 0) return messages.length - 1;
        if (i >= messages.length) return 0;
        return i;
    }

    function showMessage(newIdx) {
        const next = normalizeIndex(newIdx);
        elMsg.classList.add('hidden');
        setTimeout(() => {
            elMsg.textContent = messages[next];
            elCounter.textContent = `${next + 1} / ${messages.length}`;
            elMsg.classList.remove('hidden');
            idx = next;
        }, 200);
    }

    btnNext.addEventListener('click', () => showMessage(idx + 1));
    btnPrev.addEventListener('click', () => showMessage(idx - 1));
    btnRand.addEventListener('click', () => showMessage(Math.floor(Math.random() * messages.length)));

    // BOTÓN REPRODUCIR / PAUSAR (solo música, sin conflictos)
    btnPlay.addEventListener('click', () => {
        try { player.load(); } catch (e) {}

        if (!audioPlaying) {
            player.play()
                .then(() => {
                    audioPlaying = true;
                    btnPlay.textContent = 'Pausar';
                })
                .catch(err => console.warn('Error al reproducir:', err));
        } else {
            player.pause();
            audioPlaying = false;
            btnPlay.textContent = 'Reproducir';
        }
    });

    // Al terminar la canción
    player.addEventListener('ended', () => {
        audioPlaying = false;
        btnPlay.textContent = 'Reproducir';
    });

    // Click en la imagen también reproduce / pausa (mejor en celular)
    if (avatarImg) {
        avatarImg.addEventListener('click', () => {
            btnPlay.click();
        });
    }

    // Teclado
    window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') showMessage(idx + 1);
        if (e.key === 'ArrowLeft') showMessage(idx - 1);
    });

    // Inicio
    window.addEventListener('load', () => {
        showMessage(0);
    });
})();
</script>
</body>
</html>